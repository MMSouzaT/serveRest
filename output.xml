<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 6.1.1 (Python 3.11.2 on win32)" generated="20240427 18:27:21.892" rpa="false" schemaversion="4">
<suite id="s1" name="Autenticacao Usuario" source="c:\robot\serveRest\tests\autenticacao_usuario.robot">
<test id="s1-t1" name="Fluxo de validação de autenticação de um usuário cadastrado" line="6">
<kw name="Dado que eu realize a conexão com a API" library="base">
<kw name="Conexao API" library="base">
<var>${Conexao_API}</var>
<kw name="Create Session" library="RequestsLibrary">
<arg>Conexao_API</arg>
<arg>${baseURL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20240427 18:27:23.969" level="INFO">Creating Session using : alias=Conexao_API, url=https://serverest.dev, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20240427 18:27:23.968" endtime="20240427 18:27:23.974"/>
</kw>
<return>
<value>Conexao_API</value>
<status status="PASS" starttime="20240427 18:27:23.974" endtime="20240427 18:27:23.975"/>
</return>
<msg timestamp="20240427 18:27:23.975" level="INFO">${Conexao_API} = Conexao_API</msg>
<status status="PASS" starttime="20240427 18:27:23.966" endtime="20240427 18:27:23.976"/>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${Conexao_API}</arg>
<arg>${Conexao_API}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20240427 18:27:23.978" level="INFO">${Conexao_API} = Conexao_API</msg>
<status status="PASS" starttime="20240427 18:27:23.976" endtime="20240427 18:27:23.979"/>
</kw>
<status status="PASS" starttime="20240427 18:27:23.965" endtime="20240427 18:27:23.979"/>
</kw>
<kw name="Quando eu criar um usuário" library="base">
<kw name="Criar usuario" library="base">
<var>${idUsuarioCriado}</var>
<arg>${emailLogin}</arg>
<arg>${senhaLogin}</arg>
<arg>${nome}</arg>
<arg>true</arg>
<kw name="Alterar dados do body cadastrar usuario" library="base">
<var>${json_body}</var>
<arg>${email}</arg>
<arg>${senha}</arg>
<arg>${nome}</arg>
<arg>${administrador}</arg>
<kw name="Get File" library="OperatingSystem">
<var>${body}</var>
<arg>resources/data/cadastrar_usuario.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20240427 18:27:23.986" level="INFO" html="true">Getting file '&lt;a href="file://C:\robot\serveRest\resources\data\cadastrar_usuario.json"&gt;C:\robot\serveRest\resources\data\cadastrar_usuario.json&lt;/a&gt;'.</msg>
<msg timestamp="20240427 18:27:23.988" level="INFO">${body} = {
  "nome": "nomeUsuario",
  "email": "emailUsuario",
  "password": "senhaUsuario",
  "administrador": "administradorInformado"
}</msg>
<status status="PASS" starttime="20240427 18:27:23.985" endtime="20240427 18:27:23.988"/>
</kw>
<kw name="Convert To String" library="BuiltIn">
<var>${body}</var>
<arg>${body}</arg>
<doc>Converts the given item to a Unicode string.</doc>
<msg timestamp="20240427 18:27:23.990" level="INFO">${body} = {
  "nome": "nomeUsuario",
  "email": "emailUsuario",
  "password": "senhaUsuario",
  "administrador": "administradorInformado"
}</msg>
<status status="PASS" starttime="20240427 18:27:23.989" endtime="20240427 18:27:23.990"/>
</kw>
<kw name="Replace String Using Regexp" library="String">
<var>${body}</var>
<arg>${body}</arg>
<arg>nomeUsuario</arg>
<arg>${nome}</arg>
<doc>Replaces ``pattern`` in the given ``string`` with ``replace_with``.</doc>
<msg timestamp="20240427 18:27:23.992" level="INFO">${body} = {
  "nome": "Marcio Quality Engineer",
  "email": "emailUsuario",
  "password": "senhaUsuario",
  "administrador": "administradorInformado"
}</msg>
<status status="PASS" starttime="20240427 18:27:23.991" endtime="20240427 18:27:23.993"/>
</kw>
<kw name="Replace String Using Regexp" library="String">
<var>${body}</var>
<arg>${body}</arg>
<arg>emailUsuario</arg>
<arg>${email}</arg>
<doc>Replaces ``pattern`` in the given ``string`` with ``replace_with``.</doc>
<msg timestamp="20240427 18:27:23.999" level="INFO">${body} = {
  "nome": "Marcio Quality Engineer",
  "email": "marciosouza5@servrest.com",
  "password": "senhaUsuario",
  "administrador": "administradorInformado"
}</msg>
<status status="PASS" starttime="20240427 18:27:23.998" endtime="20240427 18:27:24.000"/>
</kw>
<kw name="Replace String Using Regexp" library="String">
<var>${body}</var>
<arg>${body}</arg>
<arg>senhaUsuario</arg>
<arg>${senha}</arg>
<doc>Replaces ``pattern`` in the given ``string`` with ``replace_with``.</doc>
<msg timestamp="20240427 18:27:24.003" level="INFO">${body} = {
  "nome": "Marcio Quality Engineer",
  "email": "marciosouza5@servrest.com",
  "password": "123456",
  "administrador": "administradorInformado"
}</msg>
<status status="PASS" starttime="20240427 18:27:24.001" endtime="20240427 18:27:24.003"/>
</kw>
<kw name="Replace String Using Regexp" library="String">
<var>${body}</var>
<arg>${body}</arg>
<arg>administradorInformado</arg>
<arg>${administrador}</arg>
<doc>Replaces ``pattern`` in the given ``string`` with ``replace_with``.</doc>
<msg timestamp="20240427 18:27:24.006" level="INFO">${body} = {
  "nome": "Marcio Quality Engineer",
  "email": "marciosouza5@servrest.com",
  "password": "123456",
  "administrador": "true"
}</msg>
<status status="PASS" starttime="20240427 18:27:24.003" endtime="20240427 18:27:24.042"/>
</kw>
<kw name="Convert String To Json" library="JSONLibrary">
<var>${json_body}</var>
<arg>${body}</arg>
<doc>Convert String to JSON object</doc>
<msg timestamp="20240427 18:27:24.044" level="INFO">${json_body} = {'nome': 'Marcio Quality Engineer', 'email': 'marciosouza5@servrest.com', 'password': '123456', 'administrador': 'true'}</msg>
<status status="PASS" starttime="20240427 18:27:24.042" endtime="20240427 18:27:24.045"/>
</kw>
<return>
<value>${json_body}</value>
<status status="PASS" starttime="20240427 18:27:24.045" endtime="20240427 18:27:24.046"/>
</return>
<msg timestamp="20240427 18:27:24.049" level="INFO">${json_body} = {'nome': 'Marcio Quality Engineer', 'email': 'marciosouza5@servrest.com', 'password': '123456', 'administrador': 'true'}</msg>
<status status="PASS" starttime="20240427 18:27:23.984" endtime="20240427 18:27:24.049"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Headers}</var>
<arg>content-type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20240427 18:27:24.053" level="INFO">${Headers} = {'content-type': 'application/json'}</msg>
<status status="PASS" starttime="20240427 18:27:24.050" endtime="20240427 18:27:24.054"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resposta_criar_usuario}</var>
<arg>Conexao_API</arg>
<arg>/usuarios</arg>
<arg>json=${json_body}</arg>
<arg>headers=${Headers}</arg>
<arg>expected_status=201</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20240427 18:27:24.606" level="INFO">POST Request : url=https://serverest.dev/usuarios 
 path_url=/usuarios 
 headers={'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Content-Length': '120'} 
 body=b'{"nome": "Marcio Quality Engineer", "email": "marciosouza5@servrest.com", "password": "123456", "administrador": "true"}' 
 </msg>
<msg timestamp="20240427 18:27:24.607" level="INFO">POST Response : url=https://serverest.dev/usuarios 
 status=201, reason=Created 
 headers={'access-control-allow-origin': '*', 'x-dns-prefetch-control': 'off', 'x-frame-options': 'SAMEORIGIN', 'strict-transport-security': 'max-age=15552000; includeSubDomains', 'x-download-options': 'noopen', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'content-type': 'application/json; charset=utf-8', 'X-Cloud-Trace-Context': '0cd96835d34952f6a6098f8c84aa46d4;o=1', 'Date': 'Sat, 27 Apr 2024 21:27:22 GMT', 'Server': 'Google Frontend', 'Content-Length': '82'} 
 body={
    "message": "Cadastro realizado com sucesso",
    "_id": "SkGX9TasHzyq3lA4"
} 
 </msg>
<msg timestamp="20240427 18:27:24.607" level="INFO">C:\Users\marci\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:1095: InsecureRequestWarning: Unverified HTTPS request is being made to host 'serverest.dev'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings
  warnings.warn(</msg>
<msg timestamp="20240427 18:27:24.609" level="INFO">${resposta_criar_usuario} = &lt;Response [201]&gt;</msg>
<status status="PASS" starttime="20240427 18:27:24.057" endtime="20240427 18:27:24.610"/>
</kw>
<kw name="Log To Console" library="BuiltIn">
<arg>${resposta_criar_usuario.json()['_id']}</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" starttime="20240427 18:27:24.610" endtime="20240427 18:27:24.613"/>
</kw>
<return>
<value>${resposta_criar_usuario.json()['_id']}</value>
<status status="PASS" starttime="20240427 18:27:24.613" endtime="20240427 18:27:24.614"/>
</return>
<msg timestamp="20240427 18:27:24.616" level="INFO">${idUsuarioCriado} = SkGX9TasHzyq3lA4</msg>
<status status="PASS" starttime="20240427 18:27:23.982" endtime="20240427 18:27:24.616"/>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${idUsuarioCriado}</arg>
<arg>${idUsuarioCriado}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20240427 18:27:24.618" level="INFO">${idUsuarioCriado} = SkGX9TasHzyq3lA4</msg>
<status status="PASS" starttime="20240427 18:27:24.617" endtime="20240427 18:27:24.618"/>
</kw>
<status status="PASS" starttime="20240427 18:27:23.981" endtime="20240427 18:27:24.619"/>
</kw>
<kw name="Então devo capturar o Token" library="base">
<kw name="Captura Token" library="base">
<var>${TOKEN}</var>
<arg>${emailLogin}</arg>
<arg>${senhaLogin}</arg>
<kw name="Alterar dados do body de autenticação" library="base">
<var>${json_body}</var>
<arg>${email}</arg>
<arg>${senha}</arg>
<kw name="Get File" library="OperatingSystem">
<var>${body}</var>
<arg>resources/data/login.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20240427 18:27:24.624" level="INFO" html="true">Getting file '&lt;a href="file://C:\robot\serveRest\resources\data\login.json"&gt;C:\robot\serveRest\resources\data\login.json&lt;/a&gt;'.</msg>
<msg timestamp="20240427 18:27:24.626" level="INFO">${body} = {
  "email": "emailLogin",
  "password": "senhaLogin"
}</msg>
<status status="PASS" starttime="20240427 18:27:24.624" endtime="20240427 18:27:24.626"/>
</kw>
<kw name="Convert To String" library="BuiltIn">
<var>${body}</var>
<arg>${body}</arg>
<doc>Converts the given item to a Unicode string.</doc>
<msg timestamp="20240427 18:27:24.629" level="INFO">${body} = {
  "email": "emailLogin",
  "password": "senhaLogin"
}</msg>
<status status="PASS" starttime="20240427 18:27:24.627" endtime="20240427 18:27:24.629"/>
</kw>
<kw name="Replace String Using Regexp" library="String">
<var>${body}</var>
<arg>${body}</arg>
<arg>emailLogin</arg>
<arg>${email}</arg>
<doc>Replaces ``pattern`` in the given ``string`` with ``replace_with``.</doc>
<msg timestamp="20240427 18:27:24.631" level="INFO">${body} = {
  "email": "marciosouza5@servrest.com",
  "password": "senhaLogin"
}</msg>
<status status="PASS" starttime="20240427 18:27:24.630" endtime="20240427 18:27:24.631"/>
</kw>
<kw name="Replace String Using Regexp" library="String">
<var>${body}</var>
<arg>${body}</arg>
<arg>senhaLogin</arg>
<arg>${senha}</arg>
<doc>Replaces ``pattern`` in the given ``string`` with ``replace_with``.</doc>
<msg timestamp="20240427 18:27:24.633" level="INFO">${body} = {
  "email": "marciosouza5@servrest.com",
  "password": "123456"
}</msg>
<status status="PASS" starttime="20240427 18:27:24.632" endtime="20240427 18:27:24.634"/>
</kw>
<kw name="Convert String To Json" library="JSONLibrary">
<var>${json_body}</var>
<arg>${body}</arg>
<doc>Convert String to JSON object</doc>
<msg timestamp="20240427 18:27:24.635" level="INFO">${json_body} = {'email': 'marciosouza5@servrest.com', 'password': '123456'}</msg>
<status status="PASS" starttime="20240427 18:27:24.634" endtime="20240427 18:27:24.635"/>
</kw>
<return>
<value>${json_body}</value>
<status status="PASS" starttime="20240427 18:27:24.636" endtime="20240427 18:27:24.636"/>
</return>
<msg timestamp="20240427 18:27:24.637" level="INFO">${json_body} = {'email': 'marciosouza5@servrest.com', 'password': '123456'}</msg>
<status status="PASS" starttime="20240427 18:27:24.623" endtime="20240427 18:27:24.637"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Headers}</var>
<arg>content-type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20240427 18:27:24.639" level="INFO">${Headers} = {'content-type': 'application/json'}</msg>
<status status="PASS" starttime="20240427 18:27:24.638" endtime="20240427 18:27:24.639"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resposta_auth}</var>
<arg>Conexao_API</arg>
<arg>/login</arg>
<arg>json=${json_body}</arg>
<arg>headers=${Headers}</arg>
<arg>expected_status=200</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20240427 18:27:24.834" level="INFO">POST Request : url=https://serverest.dev/login 
 path_url=/login 
 headers={'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Content-Length': '60'} 
 body=b'{"email": "marciosouza5@servrest.com", "password": "123456"}' 
 </msg>
<msg timestamp="20240427 18:27:24.834" level="INFO">POST Response : url=https://serverest.dev/login 
 status=200, reason=OK 
 headers={'access-control-allow-origin': '*', 'x-dns-prefetch-control': 'off', 'x-frame-options': 'SAMEORIGIN', 'strict-transport-security': 'max-age=15552000; includeSubDomains', 'x-download-options': 'noopen', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'content-type': 'application/json; charset=utf-8', 'X-Cloud-Trace-Context': '37da26ff3c1faa8fc90ac0a87efebce9', 'Date': 'Sat, 27 Apr 2024 21:27:22 GMT', 'Server': 'Google Frontend', 'Content-Length': '283'} 
 body={
    "message": "Login realizado com sucesso",
    "authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcmNpb3NvdXphNUBzZXJ2cmVzdC5jb20iLCJwYXNzd29yZCI6IjEyMzQ1NiIsImlhdCI6MTcxNDI1MzI0MiwiZXhwIjoxNzE0MjUzODQyfQ.1TWXjB5MX2QuyPz9y2VSWnyahiZ3XXfNqncLc-vOD-U"
} 
 </msg>
<msg timestamp="20240427 18:27:24.834" level="INFO">C:\Users\marci\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:1095: InsecureRequestWarning: Unverified HTTPS request is being made to host 'serverest.dev'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings
  warnings.warn(</msg>
<msg timestamp="20240427 18:27:24.837" level="INFO">${resposta_auth} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20240427 18:27:24.640" endtime="20240427 18:27:24.837"/>
</kw>
<kw name="Log To Console" library="BuiltIn">
<arg>Autenticado.</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" starttime="20240427 18:27:24.838" endtime="20240427 18:27:24.841"/>
</kw>
<return>
<value>${resposta_auth.json()['authorization']}</value>
<status status="PASS" starttime="20240427 18:27:24.842" endtime="20240427 18:27:24.843"/>
</return>
<msg timestamp="20240427 18:27:24.844" level="INFO">${TOKEN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcmNpb3NvdXphNUBzZXJ2cmVzdC5jb20iLCJwYXNzd29yZCI6IjEyMzQ1NiIsImlhdCI6MTcxNDI1MzI0MiwiZXhwIjoxNzE0MjUzODQyfQ.1TWXjB5MX2QuyPz9y2VSWnyahiZ3XXfNq...</msg>
<status status="PASS" starttime="20240427 18:27:24.621" endtime="20240427 18:27:24.845"/>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${TOKEN}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20240427 18:27:24.847" level="INFO">${TOKEN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcmNpb3NvdXphNUBzZXJ2cmVzdC5jb20iLCJwYXNzd29yZCI6IjEyMzQ1NiIsImlhdCI6MTcxNDI1MzI0MiwiZXhwIjoxNzE0MjUzODQyfQ.1TWXjB5MX2QuyPz9y2VSWnyahiZ3XXfNq...</msg>
<status status="PASS" starttime="20240427 18:27:24.846" endtime="20240427 18:27:24.847"/>
</kw>
<status status="PASS" starttime="20240427 18:27:24.620" endtime="20240427 18:27:24.848"/>
</kw>
<kw name="E excluir o usuario" library="base">
<kw name="Excluir usuario" library="base">
<var>${mensagem}</var>
<arg>${idUsuarioCriado}</arg>
<kw name="DELETE On Session" library="RequestsLibrary">
<var>${resposta_delete}</var>
<arg>Conexao_API</arg>
<arg>/usuarios/${idUsuario}</arg>
<arg>expected_status=200</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<msg timestamp="20240427 18:27:25.043" level="INFO">DELETE Request : url=https://serverest.dev/usuarios/SkGX9TasHzyq3lA4 
 path_url=/usuarios/SkGX9TasHzyq3lA4 
 headers={'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg timestamp="20240427 18:27:25.043" level="INFO">DELETE Response : url=https://serverest.dev/usuarios/SkGX9TasHzyq3lA4 
 status=200, reason=OK 
 headers={'access-control-allow-origin': '*', 'x-dns-prefetch-control': 'off', 'x-frame-options': 'SAMEORIGIN', 'strict-transport-security': 'max-age=15552000; includeSubDomains', 'x-download-options': 'noopen', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'content-type': 'application/json; charset=utf-8', 'X-Cloud-Trace-Context': 'cdcddc5fdcdccff99d41c5d28ca30186', 'Date': 'Sat, 27 Apr 2024 21:27:22 GMT', 'Server': 'Google Frontend', 'Content-Length': '51'} 
 body={
    "message": "Registro excluído com sucesso"
} 
 </msg>
<msg timestamp="20240427 18:27:25.044" level="INFO">C:\Users\marci\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:1095: InsecureRequestWarning: Unverified HTTPS request is being made to host 'serverest.dev'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings
  warnings.warn(</msg>
<msg timestamp="20240427 18:27:25.045" level="INFO">${resposta_delete} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20240427 18:27:24.852" endtime="20240427 18:27:25.046"/>
</kw>
<return>
<value>${resposta_delete.json()['message']}</value>
<status status="PASS" starttime="20240427 18:27:25.046" endtime="20240427 18:27:25.046"/>
</return>
<msg timestamp="20240427 18:27:25.048" level="INFO">${mensagem} = Registro excluído com sucesso</msg>
<status status="PASS" starttime="20240427 18:27:24.851" endtime="20240427 18:27:25.049"/>
</kw>
<kw name="Log To Console" library="BuiltIn">
<arg>${mensagem}</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" starttime="20240427 18:27:25.050" endtime="20240427 18:27:25.052"/>
</kw>
<status status="PASS" starttime="20240427 18:27:24.849" endtime="20240427 18:27:25.052"/>
</kw>
<status status="PASS" starttime="20240427 18:27:23.961" endtime="20240427 18:27:25.053"/>
</test>
<status status="PASS" starttime="20240427 18:27:21.905" endtime="20240427 18:27:25.058"/>
</suite>
<statistics>
<total>
<stat pass="1" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="1" fail="0" skip="0" id="s1" name="Autenticacao Usuario">Autenticacao Usuario</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
